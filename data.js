const qaData = [
      // Kepler College Chatbot Data Handler
// This file contains the Q&A data and search functionality
 
     {
    question: "Hello",
    answer: "Hello, How can I help you Today?"
  },
// Kepler College Chatbot Data Handler
// This file contains the Q&A data and search functionality

const qaData = [
    {
        question: "When is the deadline to apply for admission?",
        answer: "The application deadline is usually announced on our website. Please check the admissions page for the most up-to-date information."
    },
        {
        question: "Hello",
        answer: "Hello, How can I help you?"
    },
    {
        question: "Can I apply if I havenâ€™t received my high school diploma yet?",
        answer: "Yes, you can apply with proof that youâ€™re in your final year, but you'll need to submit your diploma before enrollment."
    },
    {
        question: "Are international students allowed to apply?",
        answer: "Yes, Kepler College accepts applications from international students."
    },
    {
        question: "Do I need to pay an application fee?",
        answer: "No, applying to Kepler College is completely free of charge."
    },
    {
        question: "Can I apply if I studied in a non-English speaking country?",
        answer: "Yes, but you must provide proof of English proficiency through a test or other accepted means."
    },
    {
        question: "How can I track the status of my application?",
        answer: "After submitting your application, you will receive login credentials to our applicant portal where you can check your application status."
    },
    {
        question: "Can I apply for more than one program?",
        answer: "You can only apply to one program at a time. However, if you're not selected, you may reapply for a different one in the next cycle."
    },
    {
        question: "What documents are required for the application?",
        answer: "Required documents typically include a high school transcript, proof of identity, a motivation letter, and proof of English proficiency."
    },
    {
        question: "Do you accept transfer students from other universities?",
        answer: "Yes, but transfer students must meet specific credit and eligibility criteria. Contact the admissions office for more info."
    },
    {
        question: "What happens after I submit my application?",
        answer: "Your application will be reviewed by the admissions team, and if you meet the requirements, you may be invited for an interview."
    },
    {
        question: "Hello, how are you? Can you help me?",
        answer: "Hello! I'm doing great, thank you for asking. ðŸ˜Š How can I assist you today?"
    }
    {
        question: "How do I apply for admission?",
        answer: "To apply for admission, visit our website and fill out the online application form."
    },
    {
        question: "What are the admission requirements?",
        answer: "Applicants need a high school diploma, English proficiency, and must pass the entrance exam or selection process."
    },
    {
        question: "Is financial aid available?",
        answer: "Yes, financial aid is available for eligible students through various programs."
    },
    {
        question: "What is the campus like?",
        answer: "The campus is vibrant, with modern facilities and a supportive community."
    },
    {
        question: "Can I transfer credits from another institution?",
        answer: "Yes, you can transfer credits. Please consult our admissions team for details."
    },
    {
        question: "What is the deadline for applications?",
        answer: "The deadline for applications is typically May 31 for the upcoming academic year."
    },
    {
        question: "Are there any scholarships available?",
        answer: "Yes, we offer scholarships based on merit and need. Check our website for details."
    },
    {
        question: "How can I contact the admissions office?",
        answer: "You can contact the admissions office at admissions@keplercollege.ac.rw or call +250789773042."
    },
    {
        question: "What support services are available for students?",
        answer: "Kepler college offers career coaching, academic advising, mental health services, and professional networking to support student development."
    },
    {
        question: "What programs does Kepler college offer?",
        answer: "Kepler college offers undergraduate degrees in business, communications, and healthcare management, with international recognition through partnerships with U.S.-based universities."
    },
    {
        question: "Is the education at Kepler college recognized internationally?",
        answer: "Yes, Kepler college partners with Southern New Hampshire University (SNHU) to offer U.S.-accredited degrees, recognized worldwide."
    },
    {
        question: "What is Kepler's teaching approach?",
        answer: "Kepler college uses a competency-based learning model combining online coursework with in-person coaching to ensure students gain practical skills."
    },
    {
        question: "How competitive is admission to Kepler college?",
        answer: "Admission is competitive, focusing on academic performance, leadership potential, and motivation to succeed in a competency-based environment."
    },
    {
        question: "Does Kepler college offer scholarships?",
        answer: "Yes, Kepler college offers merit-based scholarships and financial aid for students demonstrating academic excellence and financial need."
    },
    {
        question: "What is life like on Kepler's campus?",
        answer: "Kepler college fosters a collaborative learning environment with access to technology, study areas, and extracurricular activities. Students also engage in professional development."
    },
    {
        question: "Does Kepler offer housing to students?",
        answer: "Yes, Kepler college provides on-campus accommodation, though some students may opt for off-campus housing."
    },
    {
        question: "What are Kepler graduates' job prospects?",
        answer: "Kepler college graduates enjoy strong employment rates, with many securing internships and jobs in sectors like international organizations, businesses, and government."
    },
    {
        question: "Does Kepler offer internships or practical training?",
        answer: "Yes, Kepler college emphasizes hands-on learning through internships and apprenticeships, helping students gain real-world experience."
    },
    {
        question: "How does Kepler prepare students for the job market?",
        answer: "Kepler college's competency-based education, career coaching, and employer partnerships equip students with skills to thrive in the job market."
    },
    {
        question: "How affordable is it to study at Kepler college?",
        answer: "Kepler college is committed to affordability, with tuition fees varying by program. Scholarships and financial aid are available to reduce costs."
    },
    {
        question: "Are there flexible payment plans for tuition?",
        answer: "Yes, Kepler college offers flexible payment plans and installment options for students needing financial flexibility."
    },
    {
        question: "How do scholarships and financial aid work at Kepler?",
        answer: "Scholarships are awarded based on merit and financial need, with aid packages tailored to each student's situation."
    },
    {
        question: "What leadership or extracurricular opportunities does Kepler offer?",
        answer: "Kepler college provides leadership programs, student clubs, and social activities, fostering leadership skills and networking opportunities."
    },
    {
        question: "Can I engage in volunteer work or community projects while at Kepler?",
        answer: "Yes, students are encouraged to participate in community service, volunteer projects, and social impact initiatives."
    },
    {
        question: "How diverse is Kepler college's student body?",
        answer: "Kepler college attracts students from across Rwanda and neighboring countries, creating a diverse community with varying backgrounds."
    },
    {
        question: "How does Kepler use technology in its learning environment?",
        answer: "Kepler college integrates technology through online platforms, digital resources, and virtual classrooms to deliver modern, student-centered education."
    },
    {
        question: "Is Kepler college connected to global networks?",
        answer: "Yes, Kepler college is part of a global network through partnerships with SNHU and other organizations, offering cross-cultural learning and global exposure."
    },
    {
        question: "What are the career outcomes for Kepler graduates?",
        answer: "Many Kepler college graduates find employment in top local and international companies, NGOs, and government agencies. Kepler college's strong career services and alumni network play a key role in these outcomes."
    },
    {
        question: "How does Kepler support student entrepreneurship?",
        answer: "Kepler college encourages entrepreneurship by offering mentorship programs, startup incubators, and workshops on innovation and business creation."
    },
    {
        question: "Can international students apply to Kepler college?",
        answer: "Yes, Kepler college accepts international students from neighboring countries and beyond. The institution provides support for adjusting to life in Rwanda."
    },
    {
        question: "What languages are used for instruction at Kepler?",
        answer: "English is the primary language of instruction, and students are expected to have a good command of English before enrolling."
    },
    {
        question: "How does Kepler integrate real-world projects into its curriculum?",
        answer: "Kepler college's competency-based model includes real-world projects, case studies, and internships that help students apply their learning to practical scenarios."
    },
    {
        question: "What opportunities are there for alumni engagement at Kepler?",
        answer: "Kepler college maintains a strong alumni network that offers mentorship, professional development, and job opportunities for both current students and graduates."
    },
    {
        question: "Does Kepler college have partnerships with local businesses?",
        answer: "Yes, Kepler college collaborates with local businesses and organizations to provide internship opportunities and job placements for students and graduates."
    },
    {
        question: "How are faculty members selected at Kepler?",
        answer: "Faculty at Kepler college are highly qualified professionals with significant experience in their respective fields, and they are selected for their commitment to student success and experiential learning."
    },
    {
        question: "How does Kepler handle student diversity and inclusion?",
        answer: "Kepler college promotes diversity and inclusion by welcoming students from different socioeconomic backgrounds and offering programs that cater to various learning needs."
    },
    {
        question: "What makes Kepler different from other universities in Rwanda?",
        answer: "Kepler college stands out due to its competency-based education, international degree partnerships, emphasis on practical skills, and strong career services that prepare students for the workforce."
    },
    {
        question: "How can I apply to Kepler?",
        answer: "You can apply to Kepler college by visiting their website and completing the online application form. The process includes submitting academic records, passing an entrance exam, and attending an interview."
    },
    {
        question: "What are the most popular majors at Kepler?",
        answer: "Business administration, healthcare management, and communications are among the most popular majors at Kepler college, due to their relevance in Rwanda's growing economy."
    },
    {
        question: "How does Kepler ensure students' academic success?",
        answer: "Kepler college provides personalized coaching, regular assessments, and tailored support to ensure students meet academic goals and develop competencies needed for graduation."
    },
    {
        question: "Are there any study abroad programs or exchange opportunities?",
        answer: "Yes, through Kepler college's global partnerships, students may have the opportunity to engage in exchange programs, internships, or short-term study abroad experiences."
    },
    {
        question: "Does Kepler have any religious affiliation?",
        answer: "Kepler college is a secular institution and does not have any religious affiliation, though it respects and accommodates students from all religious backgrounds."
    },
    {
        question: "What are the technological resources available to students?",
        answer: "Kepler college provides students with access to modern technology, including computers, online learning platforms, and digital resources to support their education."
    },
    {
        question: "How does Kepler help students balance academic and personal life?",
        answer: "Kepler college offers student counseling, wellness programs, and a flexible learning model that allows students to balance academic demands with personal and professional commitments."
    },
    {
        question: "What is Kepler's mission?",
        answer: "Kepler college's mission is to provide accessible, high-quality education that equips students with the skills needed to thrive in the global job market."
    },
    {
        question: "How long does it take to complete a degree at Kepler?",
        answer: "Most undergraduate programs at Kepler college take about three to four years to complete, depending on the student's pace and program requirements."
    },
    {
        question: "What career paths do Kepler graduates typically pursue?",
        answer: "Kepler college graduates often pursue careers in business, healthcare, non-profit management, and communications, while others become entrepreneurs or continue with postgraduate studies."
    },
    {
        question: "How does Kepler measure student performance?",
        answer: "Kepler college uses a competency-based system where students are assessed based on their ability to demonstrate specific skills and knowledge, rather than through traditional grading."
    },
    {
        question: "What is Kepler's approach to leadership development?",
        answer: "Kepler college integrates leadership training into its curriculum through practical projects, leadership workshops, and opportunities for students to take on leadership roles in extracurricular activities."
    },
    {
        question: "How does Kepler integrate social impact into its education?",
        answer: "Kepler college emphasizes social impact by encouraging students to engage in community service, sustainability projects, and initiatives that address local and global challenges."
    },
    {
        question: "Does Kepler have an online learning option?",
        answer: "Yes, Kepler college offers a blended learning model where students engage in both online courses and in-person coaching, allowing for flexible learning schedules."
    },
    {
        question: "What extracurricular activities are available to students at Kepler?",
        answer: "Kepler college offers a range of extracurricular activities, including clubs, sports, debate teams, and leadership programs that help students develop socially and professionally."
    },
    {
        question: "Tell me about Kepler college",
        answer: "Kepler is a high learning institution in Rwanda with different programs like project management, business analytics and SNHU. Since 2012 Kepler has been reinventing higher education and creating pathways for vulnerable Africans."
    },
    {
        question: "How many intakes",
        answer: "3 intakes: September for project management, January for business analytics and March for SNHU"
    },
    {
        question: "intake open",
        answer: "January intake starting from 16 Sept to 05 March 2024"
    },
    {
        question: "support phone number",
        answer: "You can contact us at +250789773042"
    },
    {
        question: "What is the student-to-faculty ratio at Kepler?",
        answer: "Kepler maintains a low student-to-faculty ratio to ensure personalized attention and support for every student."
    },
    {
        question: "What are Kepler's core values?",
        answer: "Kepler emphasizes innovation, collaboration, inclusivity, and excellence in education."
    },
    {
        question: "How does Kepler support students' personal development?",
        answer: "Kepler offers counseling services, mentorship, leadership training, and extracurricular activities to promote personal growth."
    },
    {
        question: "What kind of academic support is available for students struggling with their studies?",
        answer: "Kepler provides tutoring, coaching, and workshops for students who need academic assistance."
    },
    {
        question: "Is there a career center at Kepler?",
        answer: "Yes, Kepler has a dedicated career center that offers career counseling, resume building, interview preparation, and job placement services."
    },
    {
        question: "How does Kepler integrate technology in the learning process?",
        answer: "Kepler uses blended learning with a combination of online resources, in-person coaching, and technology tools to enhance student learning."
    },
    {
        question: "What are the living arrangements for students at Kepler?",
        answer: "Kepler provides housing options for students, including dormitories and assistance in finding off-campus accommodations."
    },
    {
        question: "Are there any partnerships between Kepler and other universities?",
        answer: "Yes, Kepler has partnerships with international institutions that provide students with opportunities for global exposure and earning accredited degrees."
    },
    {
        question: "What is the process for transferring credits to Kepler from another institution?",
        answer: "Kepler evaluates transfer credits on a case-by-case basis, ensuring they align with the curriculum and competencies required for graduation."
    },
    {
        question: "What is Kepler's approach to sustainability and community engagement?",
        answer: "Kepler is committed to sustainability and encourages students to participate in community service, environmental projects, and initiatives that benefit the community."
    },
    {
        question: "How does Kepler prepare students for the global job market?",
        answer: "Kepler focuses on building global competencies through internships, real-world projects, soft skills training, and connecting students with international opportunities."
    },
    {
        question: "Does Kepler offer postgraduate programs?",
        answer: "Currently, Kepler focuses on undergraduate programs, but there are partnerships and pathways for students interested in pursuing postgraduate studies."
    },
    {
        question: "How does Kepler foster innovation among its students?",
        answer: "Kepler encourages innovation by offering workshops, hackathons, and innovation labs that allow students to experiment with new ideas and technologies."
    },
    {
        question: "What are the key challenges Kepler students face, and how does the college address them?",
        answer: "Common challenges include adjusting to competency-based education and managing time. Kepler provides strong coaching and support to help students overcome these challenges."
    },
    {
        question: "How does Kepler contribute to the education landscape in Rwanda?",
        answer: "Kepler is a pioneer in competency-based education in Rwanda, offering a model that combines international standards with local relevance."
    },
    {
        question: "What kind of internships are available to Kepler students?",
        answer: "Kepler has partnerships with various industries, including tech, business, healthcare, and NGOs, providing students with practical internship opportunities."
    },
    {
        question: "How does Kepler ensure its programs stay relevant to the job market?",
        answer: "Kepler regularly updates its curriculum based on industry trends, feedback from employers, and ongoing research into the skills needed in the job market."
    },
    {
        question: "How do Kepler students stay connected with alumni?",
        answer: "Kepler has an active alumni network that engages with current students through mentoring programs, networking events, and career workshops."
    },
    {
        question: "What kind of research opportunities are available at Kepler?",
        answer: "While Kepler focuses on practical learning, students have opportunities to engage in research projects, especially in areas like education, social innovation, and business."
    },
    {
        question: "Where are Kepler's campuses?",
        answer: "Kepler has campuses in Kiziba and Kigali."
    }
];

// Simple keyword matching function
function findBestMatch(userQuery) {
    const query = userQuery.toLowerCase().trim();
    
    // Direct question match (highest priority)
    for (let item of keplerData) {
        if (item.question.toLowerCase() === query) {
            return item.answer;
        }
    }
    
    // Keyword matching with scoring
    let bestMatch = null;
    let highestScore = 0;
    
    for (let item of keplerData) {
        const questionWords = item.question.toLowerCase().split(' ');
        const queryWords = query.split(' ');
        let score = 0;
        
        // Check for keyword matches
        for (let queryWord of queryWords) {
            if (queryWord.length > 2) { // Ignore very short words
                for (let questionWord of questionWords) {
                    if (questionWord.includes(queryWord) || queryWord.includes(questionWord)) {
                        score += 1;
                    }
                }
                
                // Check answer for keywords too (lower weight)
                if (item.answer.toLowerCase().includes(queryWord)) {
                    score += 0.5;
                }
            }
        }
        
        // Bonus for partial question match
        if (item.question.toLowerCase().includes(query) || query.includes(item.question.toLowerCase())) {
            score += 2;
        }
        
        if (score > highestScore && score > 0) {
            highestScore = score;
            bestMatch = item;
        }
    }
    
    return bestMatch ? bestMatch.answer : null;
}

// Enhanced search with common variations and synonyms
function searchKeplerData(userQuery) {
    // Normalize the query
    const normalizedQuery = userQuery.toLowerCase().trim();
    
    // Common question patterns and their variations
    const questionPatterns = {
        'admission': ['admission', 'apply', 'application', 'enroll', 'enrollment'],
        'requirements': ['requirements', 'requirement', 'needed', 'need', 'prerequisite'],
        'financial': ['financial aid', 'scholarship', 'money', 'cost', 'fee', 'tuition', 'affordable'],
        'campus': ['campus', 'facilities', 'life', 'housing', 'accommodation'],
        'programs': ['programs', 'courses', 'majors', 'degrees', 'study'],
        'contact': ['contact', 'phone', 'email', 'reach', 'call'],
        'international': ['international', 'global', 'worldwide', 'abroad'],
        'career': ['career', 'job', 'employment', 'work', 'graduate'],
        'technology': ['technology', 'online', 'digital', 'computer'],
        'support': ['support', 'help', 'assistance', 'services']
    };
    
    // Try to find matches using patterns
    let bestMatch = findBestMatch(normalizedQuery);
    
    if (!bestMatch) {
        // Try pattern matching
        for (let [category, keywords] of Object.entries(questionPatterns)) {
            for (let keyword of keywords) {
                if (normalizedQuery.includes(keyword)) {
                    // Find questions related to this category
                    for (let item of keplerData) {
                        if (item.question.toLowerCase().includes(keyword) || 
                            item.answer.toLowerCase().includes(keyword)) {
                            return item.answer;
                        }
                    }
                }
            }
        }
    }
    
    return bestMatch;
}

// Fallback responses for when no match is found
const fallbackResponses = [
    "I'd be happy to help you with information about Kepler College! Could you please rephrase your question or be more specific?",
    "I want to make sure I give you the most accurate information. Could you ask your question in a different way?",
    "That's a great question! While I don't have that exact information, you can contact our admissions office at admissions@keplercollege.ac.rw or call +250789773042 for detailed assistance.",
    "I'm here to help with questions about Kepler College programs, admissions, campus life, and more. Could you try asking your question differently?"
];

// Get a random fallback response
function getFallbackResponse() {
    return fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
}

// Main function to get chatbot response
function getChatbotResponse(userMessage) {
    const response = searchKeplerData(userMessage);
    return response || getFallbackResponse();
}